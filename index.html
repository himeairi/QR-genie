<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Library for QR Code Generation -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Basic styling for the QR code container to prevent layout shifts */
        #qrcode {
            width: 256px;
            height: 256px;
            margin: 1.5rem auto;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 0.5rem;
            background-color: #f3f4f6;
            transition: all 0.3s ease-in-out;
        }
        #qrcode img {
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center">
        <h1 class="text-3xl font-bold text-gray-800 mb-4">QR Code Generator</h1>
        <p class="text-gray-600 mb-6">Enter a URL or any text below to generate a QR code.</p>

        <!-- Input for the link -->
        <div class="mb-4">
            <input type="text" id="text-input" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" placeholder="https://example.com">
        </div>

        <!-- Button to generate the QR code -->
        <button id="generate-btn" class="w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105">
            Generate QR Code
        </button>

        <!-- Container where the QR code will be displayed -->
        <div id="qrcode-container" class="mt-6">
            <div id="qrcode"></div>
        </div>
        
        <!-- Message area -->
        <p id="message" class="text-sm text-gray-500 mt-4 h-5"></p>

    </div>

    <script>
        // Get references to the HTML elements
        const generateBtn = document.getElementById('generate-btn');
        const textInput = document.getElementById('text-input');
        const qrcodeContainer = document.getElementById('qrcode');
        const messageEl = document.getElementById('message');
        
        let qrcode = null; // Variable to hold the QRCode instance

        /**
         * Function to generate the QR code.
         */
        function generateQRCode() {
            const text = textInput.value.trim();

            // Clear previous QR code and message
            qrcodeContainer.innerHTML = '';
            messageEl.textContent = '';

            if (text === "") {
                messageEl.textContent = "Please enter some text or a URL.";
                qrcodeContainer.style.backgroundColor = '#f3f4f6'; // Reset background
                return;
            }

            // Clear the background color when a QR code is generated
            qrcodeContainer.style.backgroundColor = 'transparent';

            // Generate the new QR code
            try {
                 qrcode = new QRCode(qrcodeContainer, {
                    text: text,
                    width: 256,
                    height: 256,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                 messageEl.textContent = "QR Code generated successfully!";
            } catch (error) {
                console.error("Error generating QR code:", error);
                messageEl.textContent = "Could not generate QR code. Check the console for errors.";
                qrcodeContainer.style.backgroundColor = '#fecaca'; // Red background for error
            }
        }

        // Add event listener to the button
        generateBtn.addEventListener('click', generateQRCode);

        // Allow pressing Enter to generate the QR code
        textInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                generateQRCode();
            }
        });

        // Generate a default QR code on load for demonstration
        window.onload = () => {
            textInput.value = 'https://www.google.com';
            generateQRCode();
        };

    </script>

</body>
</html>
